<template>
  <table class="table table-overflow">
    <thead>
      <tr>
        <th>Title</th>
        <th>Date</th>
        <th style="width: 6rem;"></th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="dashboard of data" if.bind="data">
        <td class="text-truncate">
          <div class="ellipsis">
            <a route-href="route: dashboard-viewer; params.bind: { id: dashboard.id, gistId: dashboard.gistId }">
              ${dashboard.content.title ? dashboard.content.title : 'unknown'}
            </a>
          </div>
          <span class="text-small text-secondary" if.bind="dashboard.content.description">${dashboard.content.description}</span>
          <span class="text-small text-secondary" else>No description given</span>
        </td>
        <td class="text-truncate">
          <div>
            ${dashboard.createdAt | timeAgo }
          </div>
          <span class="text-small text-secondary">
            ${dashboard.updatedAt | dateTime }
          </span>
        </td>
        <td class="text-right">
          <a class="btn btn-secondary btn-outline btn-sm" 
            route-href="route: dashboard-viewer; params.bind: { id: dashboard.id, gistId: dashboard.gistId }">
            <i class="fas fa-folder-open"></i>
          </a>
        </td>
      </tr>
      <tr if.bind="!data">
        <td colspan="4" class="text-center">
          You do not have any stored dashboards.
        </td>
      </tr>
    </tbody>
  </table>
</template>